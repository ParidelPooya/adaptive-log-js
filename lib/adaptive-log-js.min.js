!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("adaptive-log-js",[],t):"object"==typeof exports?exports["adaptive-log-js"]=t():e["adaptive-log-js"]=t()}(this,function(){return function(e){function t(o){if(r[o])return r[o].exports;var l=r[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,t),l.l=!0,l.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),f=function(){function e(t){o(this,e);var r={logger:console,buffer_level:e.level.DEBUG,flush_level:e.level.DEBUG,buffer_size:100,keep_history:!1};t||(t={}),this._options={logger:t.logger?t.logger:r.logger,buffer_level:t.buffer_level?t.buffer_level:r.buffer_level,flush_level:t.flush_level?t.flush_level:r.flush_level,buffer_size:t.buffer_size?t.buffer_size:r.buffer_size,keep_history:t.keep_history?t.keep_history:r.keep_history},this._buffer=[[],[]],this.all=[],this._selected_buffer=0}return l(e,[{key:"flush",value:function(){var e=this;this._buffer[1-this._selected_buffer].map(function(t){e.sendToUpperLogger(t)}),this._buffer[this._selected_buffer].map(function(t){e.sendToUpperLogger(t)}),this._buffer=[[],[]]}},{key:"sendToUpperLogger",value:function(t){switch(t.level){case e.level.DEBUG:this._options.logger.log(t.logObject);break;case e.level.INFO:this._options.logger.info(t.logObject);break;case e.level.WARN:this._options.logger.warn(t.logObject);break;case e.level.ERROR:this._options.logger.error(t.logObject)}}},{key:"writeToBuffer",value:function(e,t){e>=this._options.buffer_level&&(this._options.keep_history&&this.all.push({level:e,logObject:t}),this._buffer[this._selected_buffer].length===this._options.buffer_size&&(this._selected_buffer=1-this._selected_buffer,this._buffer[this._selected_buffer]=[]),this._buffer[this._selected_buffer].push({level:e,logObject:t}),e>=this._options.flush_level&&this.flush())}},{key:"log",value:function(t){this.writeToBuffer(e.level.DEBUG,t)}},{key:"info",value:function(t){this.writeToBuffer(e.level.INFO,t)}},{key:"warn",value:function(t){this.writeToBuffer(e.level.WARN,t)}},{key:"error",value:function(t){this.writeToBuffer(e.level.ERROR,t)}}]),e}();f.level={DEBUG:0,INFO:1,WARN:2,ERROR:3},e.exports=f}])});